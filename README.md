# Программа парсинга новостей и создания пайплайна ML

## Описание

Эта программа выполняет две основные задачи:

1. **Парсинг новостей** с BBC News с помощью BeautifulSoup
2. **Создание пайплайна предобработки данных** для машинного обучения

## Возможности

### Парсинг новостей
- Парсинг по количеству новостей
- Парсинг по дате (начиная с указанной даты)
- Извлечение заголовков новостей
- Извлечение полного текста статей (доп. баллы)
- Сохранение данных в CSV формате

### Пайплайн предобработки данных
- **Визуализация данных**: гистограммы, корреляционные матрицы, временные ряды
- **Преобразование к числовым типам**: создание числовых признаков из текстовых данных
- **Обработка пропусков**: заполнение пропущенных значений
- **Нормализация и стандартизация**: z-score и Min-Max нормализация
- **Создание ML признаков**: TF-IDF признаки, бинарные признаки

## Установка

1. Убедитесь, что у вас установлен Python 3.8+
2. Активируйте виртуальное окружение:
   ```bash
   source venv/bin/activate
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Использование

Запустите программу:
```bash
python main.py
```

Программа предложит выбрать режим работы:
1. **Парсинг по количеству новостей** - введите количество новостей для парсинга
2. **Парсинг по дате** - введите дату начала парсинга в формате YYYY-MM-DD

## Выходные файлы

- `raw_news_data.csv` - исходные данные новостей
- `processed_news_data.csv` - обработанные данные для ML
- `news_analysis.png` - визуализации данных

## Структура данных

### Исходные данные (raw_news_data.csv)
- `title` - заголовок новости
- `url` - ссылка на статью
- `text` - полный текст статьи
- `date` - дата публикации
- `word_count` - количество слов в тексте

### Обработанные данные (processed_news_data.csv)
Дополнительно включают:
- `title_length` - длина заголовка
- `text_length` - длина текста
- `sentence_count` - количество предложений
- `day_of_week`, `month`, `year` - временные признаки
- `has_url`, `has_text` - бинарные признаки
- `contains_[word]` - признаки наличия ключевых слов
- `is_long_article`, `is_short_article` - категориальные признаки
- Нормализованные версии числовых признаков

## Особенности реализации

1. **Уважительный парсинг**: добавлены паузы между запросами
2. **Обработка ошибок**: программа продолжает работу при ошибках парсинга
3. **Фильтрация данных**: исключаются короткие заголовки и тексты
4. **Гибкая архитектура**: легко расширить для других новостных сайтов

## Примечания

- Программа использует BBC News как источник данных
- Для других сайтов потребуется адаптация селекторов
- Рекомендуется не превышать 100 новостей за один запуск
- Визуализации сохраняются в файл `news_analysis.png`
